namespace = lds

lds_migration.0 = { #USA begins formal discrimination
	type = country_event
	placement = root
	title = lds_migration.0.t
	desc = lds_migration.0.d
	flavor = lds_migration.0.f
	
	immediate = {
		if = {
			limit = {
				has_variable = lds_nauvoo
			}
			random_scope_state = {
				limit = {
					has_variable = nauvoo_site
				}
				remove_homeland = mormon
			}
		}
		ifelse = {
			limit = {
				has_variable = lds_kirtland
			}
			s:STATE_OHIO = {
				remove_homeland = mormon
			}
		}
		s:STATE_MISSOURI = {
			remove_homeland = mormon
		}
	}
	
	option = {
		name = lds_migration.0.a
		hidden_effect = {
			trigger_event = { 
				id = lds_migration.6 days = 120
			}
		}
	}
}

lds_migration.1 = { #Smiths assassinated, mormons prepare to leave
	type = country_event
	placement = scope:lds_assassination_scope
	title = lds_migration.1.t
	desc = lds_migration.1.d
	flavor = lds_migration.1.f
	
	immediate = {
		if = {
			limit = {
				has_variable = lds_nauvoo
			}
			random_scope_state = {
				limit = {
					has_variable = nauvoo_site
				}
				save_scope_as = lds_assassination_scope
				remove_homeland = mormon
			}
		}
		ifelse = {
			limit = {
				has_variable = lds_kirtland
			}
			s:STATE_OHIO = {
				save_scope_as = lds_assassination_scope
				remove_homeland = mormon
			}
		}
		ifelse = {
			s:STATE_MISSOURI = {
				save_scope_as = lds_assassination_scope
			}
		}
		s:STATE_MISSOURI = {
			remove_homeland = mormon
		}
		random_scope_character = {
			limit = {
				has_variable = is_joseph_smith
			}
			kill_character = yes
		}
	}
	
	option = {
		name = lds_migration.1.a
		
		hidden_effect = {
			trigger_event = { 
				id = lds_migration.4 days = 120
			}
		}
	}
}

lds_migration.2 = { #journal invalidated, most likely by Smith being in the wrong country. 
	type = country_event
	placement = root
	title = lds_migration.2.t
	desc = lds_migration.2.d
	flavor = lds_migration.2.f
	
	option = {
		name = lds_migration.2.a
		hidden_effect = {
			random_scope_character = {
				limit = {
					has_variable = is_joseph_smith
				}
				place_character_in_void = 6
			}
		}
	}
}

lds_csa_revolt = {
	type = country_event
	placement = scope:lds_rebel_state
	title = lds_csa_revolt.t
	desc = lds_csa_revolt.d
	flavor = lds_csa_revolt.f
	
	trigger = {
		exists = c:CSA
		this = c:CSA
		c:CSA = {
			any_scope_state = {
				OR = {
					has_variable = far_west
					has_variable = nauvoo_site
				}
			}
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				OR = {
					has_variable = far_west
					has_variable = nauvoo_site
				}
			}
			save_scope_as:lds_rebel_state
		}
		every_character_in_void = {
			limit = {
				has_variable = is_joseph_smith
			}
			save_scope_as:joe_smith
		}
		if = {
			s:STATE_MISSOURI = {
				has_variable = far_west
			}
			create_country = {
				tag = ZIO
				origin = c:USA
				province = { x7B0051 x701948 xF5005E x84487E xBF3FF3 x4D6DEF x0AC4E5 x8ADB9A }
				on_created = {
					#WIP, provide appropriate modifications to IGs and add/move characters here
					if = {
						limit = {
							exists = scope:joe_smith
						}
						scope:joe_smith = {
							transfer_character = c:ZIO
							free_character_from_void = yes
							add_character_role = ruler
							remove_trait = arrogant
							add_trait = charismatic
						}
					}
					if_else = {
						limit = {}
						create_character = {
							first_name = Joseph
							last_name = Smith
							culture = mormon
							religion = lds
							ruler = yes
							interest_group = ig_devout
							birth_date = 1805.12.23
							dna = ecchi_dna_joseph_smith
							ideology = ideology_reformer
							traits = {
								imperious
								charismatic
								basic_political_operator
							}
							on_created = {
								set_variable = {
									name = is_joseph_smith
								}				
							}
						}
					}
				}
			}
		}
		if_else = {
			s:STATE_ILLINOIS = {
				has_variable = nauvoo_site
			}
			create_country = {
				tag = ZIO
				origin = c:USA
				province = { xB90E0D x6B3BE8 xCD3BFC x746E6F x977A71 x33B258 x9EA280 x3FEEB5 }				
				on_created = {
					#WIP, provide appropriate modifications to IGs and add/move characters here
					if = {
						limit = {
							exists = scope:joe_smith
						}
						scope:joe_smith = {
							transfer_character = c:ZIO
							free_character_from_void = yes
							add_character_role = ruler
							remove_trait = arrogant
							add_trait = charismatic
						}
					}
					if_else = {
						limit = {}
						create_character = {
							first_name = Joseph
							last_name = Smith
							culture = mormon
							religion = lds
							ruler = yes
							interest_group = ig_devout
							birth_date = 1805.12.23
							dna = ecchi_dna_joseph_smith
							ideology = ideology_reformer
							traits = {
								imperious
								charismatic
								basic_political_operator
							}
							on_created = {
								set_variable = {
									name = is_joseph_smith
								}				
							}
						}
					}
				}
			}
		}
		if_else = {
			s:STATE_IOWA = {
				has_variable = nauvoo_site
			}
			create_country = {
				tag = ZIO
				origin = c:USA
				province = { x002D4B x71153F x5832CE xC6264B x9A3850 xAB3179 x606DBE x5BA80C x91CECE }
				on_created = {
					#WIP, provide appropriate modifications to IGs and add/move characters here
					if = {
						limit = {
							exists = scope:joe_smith
						}
						scope:joe_smith = {
							transfer_character = c:ZIO
							free_character_from_void = yes
							add_character_role = ruler
							remove_trait = arrogant
							add_trait = charismatic
						}
					}
					if_else = {
						limit = {}
						create_character = {
							first_name = Joseph
							last_name = Smith
							culture = mormon
							religion = lds
							ruler = yes
							interest_group = ig_devout
							birth_date = 1805.12.23
							dna = ecchi_dna_joseph_smith
							ideology = ideology_reformer
							traits = {
								imperious
								charismatic
								basic_political_operator
							}
							on_created = {
								set_variable = {
									name = is_joseph_smith
								}				
							}
						}
					}
				}
			}
		}
		if_else = {
			s:STATE_KANSAS = {
				has_variable = nauvoo_site
			}
			create_country = {
				tag = ZIO
				origin = c:USA
				province = { x1B1E8B x2D821B x6C6CF4 xCF5B71 xE5842F x24CC25 }
				on_created = {
					#WIP, provide appropriate modifications to IGs and add/move characters here
					if = {
						limit = {
							exists = scope:joe_smith
						}
						scope:joe_smith = {
							transfer_character = c:ZIO
							free_character_from_void = yes
							add_character_role = ruler
							remove_trait = arrogant
							add_trait = charismatic
						}
					}
					if_else = {
						limit = {}
						create_character = {
							first_name = Joseph
							last_name = Smith
							culture = mormon
							religion = lds
							ruler = yes
							interest_group = ig_devout
							birth_date = 1805.12.23
							dna = ecchi_dna_joseph_smith
							ideology = ideology_reformer
							traits = {
								imperious
								charismatic
								basic_political_operator
							}
							on_created = {
								set_variable = {
									name = is_joseph_smith
								}				
							}
						}
					}
				}
			}
		}
		if_else = {
			s:STATE_NEBRASKA = {
				has_variable = nauvoo_site
			}
			create_country = {
				tag = ZIO
				origin = c:USA
				province = { x394431 x924593 x3E62DB x9B4CC5 x6298F3 xD5A04C x90C040 x5BD057 x76F2C5 }
				on_created = {
					#WIP, provide appropriate modifications to IGs and add/move characters here
					if = {
						limit = {
							exists = scope:joe_smith
						}
						scope:joe_smith = {
							transfer_character = c:ZIO
							free_character_from_void = yes
							add_character_role = ruler
							remove_trait = arrogant
							add_trait = charismatic
						}
					}
					if_else = {
						limit = {}
						create_character = {
							first_name = Joseph
							last_name = Smith
							culture = mormon
							religion = lds
							ruler = yes
							interest_group = ig_devout
							birth_date = 1805.12.23
							dna = ecchi_dna_joseph_smith
							ideology = ideology_reformer
							traits = {
								imperious
								charismatic
								basic_political_operator
							}
							on_created = {
								set_variable = {
									name = is_joseph_smith
								}				
							}
						}
					}
				}
			}
		}
		create_diplomatic_play = {
			name = zion_secession
			initiator = c:ZIO
			type = secession
		}
	}
}

lds_csa_revolt_usa = {
	type = country_event
	placement = root
	title = lds_csa_revolt_usa.t
	desc = lds_csa_revolt_usa.d
	flavor = lds_csa_revolt_usa.f
	
	trigger = {
		exists = c:CSA
		this = c:USA
		NOT = { has_global_variable = lds_csa }
		c:CSA = {
			any_scope_state = {
				OR = {
					has_variable = far_west
					has_variable = nauvoo_site
				}
			}
		}
	}
	
	option = { #help them
		name = lds_csa_revolt_usa.a
		create_diplomatic_pact = {
			country = c:ZIO
			type = puppet
		}
		set_global_variable = lds_csa
	}
	
	option = { #leave them to the wolves
		name = lds_csa_revolt_usa.b
		set_global_variable = lds_csa
	}
	
	option = { #kill them
		name = lds_csa_revolt.c
		create_diplomatic_play = {
			name = zion_secession
			initiator = c:ZIO
			type = secession
		}
		set_global_variable = lds_csa
	}
}

lds_migration.3 = { #Stability maintained, Missouri and Nauvoo remain mormon homeland
	type = country_event
	placement = root
	title = lds_migration.3.t
	desc = lds_migration.3.d
	flavor = lds_migration.3.f
	
	option = {
		if = {
			limit = {
				cu:mormon = {
					NOT = { has_homeland = s:STATE_MISSOURI }
				}
			}
			s:STATE_MISSOURI = {
				add_homeland = mormon
			}
		}
	}
}

lds_migration.4 = { #Founding of Deseret, Young Edition
	type = country_event
	placement = deseret_capital
	title = lds_migration.4.t
	desc = lds_migration.4.d
	flavor = lds_migration.4.f
	
	immediate = {
		random_in_global_list = {
			name = deseret_potential
			weight = {
				value = 0
				
				if = {
					limit = {
						any_scope_state = {
							owner = {
								is_country_type = decentralized
							}
						}
					}
					add = 25
				}
				
				if = {
					limit = {
						NOT = {
							any_scope_state = {
								owner = {
									OR = {
										is_country_type = colonial
										is_country_type = recognized
									}
								}
							}
						}
					}
					add = 25
				}
				
				if = {
					limit = {
						any_scope_state = {
							is_incorporated = no
						}
					}
					add = 10
				}
				
				if = {
					limit = {
						any_scope_state = {
							is_incorporated = yes
						}
					}
					add = -50
				}
				
				if = {
					limit = {
						any_scope_state = {
							OR = {
								owner = c:USA
								owner = c:CSA
								owner = c:FSA
							}
						}
					}
					add = -20
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 1
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 2
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 3
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 4
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 5
						}
					}
					add = -10
				}
			}
			save_scope_as:deseret_capital
		}
		scope:deseret_capital = {
			if = {
				limit = {
					any_scope_state = {
						owner = {
							OR = {
								is_country_type = colonial
								is_country_type = recognized
							}
						}
					}
				}
				random_scope_state = {
					save_scope_as:deseret_state
				}
			}
			ifelse = {
				limit = {
					any_scope_state = {
						owner = {
							OR = {
								is_country_type = unrecognized
							}
						}
					}
				}
				random_scope_state = {
					save_scope_as:deseret_state
				}
			}
			ifelse = {
				random_scope_state = {
					save_scope_as:deseret_state
				}
			}
		}
		create_country = {
			tag = DES
			origin = c:USA
			state = { deseret_state }
			on_created = {
				#WIP, provide appropriate modifications to IGs and add/move characters here
			}
		}
	}
	
	option = {
		name = lds_migration.4.a
	}
	
	option = {
		name = lds_migration.4.b
		play_as = c:DES
	}
}

lds_migration.5 = { #Founding of Deseret, Hyrum Edition
	type = country_event
	placement = scope:deseret_capital
	title = lds_migration.5.t
	desc = lds_migration.5.d
	flavor = lds_migration.5.f
	
	immediate = {
		random_in_global_list = {
			name = deseret_potential
			weight = {
				value = 0
				
				if = {
					limit = {
						any_scope_state = {
							owner = {
								is_country_type = decentralized
							}
						}
					}
					add = 25
				}
				
				if = {
					limit = {
						NOT = {
							any_scope_state = {
								owner = {
									OR = {
										is_country_type = colonial
										is_country_type = recognized
									}
								}
							}
						}
					}
					add = 25
				}
				
				if = {
					limit = {
						any_scope_state = {
							is_incorporated = no
						}
					}
					add = 10
				}
				
				if = {
					limit = {
						any_scope_state = {
							is_incorporated = yes
						}
					}
					add = -50
				}
				
				if = {
					limit = {
						any_scope_state = {
							OR = {
								owner = c:USA
								owner = c:CSA
								owner = c:FSA
							}
						}
					}
					add = -20
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 1
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 2
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 3
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 4
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 5
						}
					}
					add = -10
				}
			}
			save_scope_as:deseret_capital
		}
		scope:deseret_capital = {
			if = {
				limit = {
					any_scope_state = {
						owner = {
							OR = {
								is_country_type = colonial
								is_country_type = recognized
							}
						}
					}
				}
				random_scope_state = {
					save_scope_as:deseret_state
				}
			}
			ifelse = {
				limit = {
					any_scope_state = {
						owner = {
							OR = {
								is_country_type = unrecognized
							}
						}
					}
				}
				random_scope_state = {
					save_scope_as:deseret_state
				}
			}
			ifelse = {
				random_scope_state = {
					save_scope_as:deseret_state
				}
			}
		}
		create_country = {
			tag = DES
			origin = c:USA
			state = { deseret_state }
			on_created = {
				#WIP, provide appropriate modifications to IGs and add/move characters here
			}
		}
	}
	
	option = {
		name = lds_migration.5.a
	}
	
	option = {
		name = lds_migration.5.b
		play_as = c:DES
	}
}

lds_migration.6 = { #Founding of Deseret, Joseph Edition
	type = country_event
	placement = scope:deseret_capital
	title = lds_migration.6.t
	desc = lds_migration.6.d
	flavor = lds_migration.6.f
	
	immediate = {
		random_in_global_list = {
			name = deseret_potential
			weight = {
				value = 0
				
				if = {
					limit = {
						any_scope_state = {
							owner = {
								is_country_type = decentralized
							}
						}
					}
					add = 25
				}
				
				if = {
					limit = {
						NOT = {
							any_scope_state = {
								owner = {
									OR = {
										is_country_type = colonial
										is_country_type = recognized
									}
								}
							}
						}
					}
					add = 25
				}
				
				if = {
					limit = {
						any_scope_state = {
							is_incorporated = no
						}
					}
					add = 10
				}
				
				if = {
					limit = {
						any_scope_state = {
							is_incorporated = yes
						}
					}
					add = -50
				}
				
				if = {
					limit = {
						any_scope_state = {
							OR = {
								owner = c:USA
								owner = c:CSA
								owner = c:FSA
							}
						}
					}
					add = -20
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 1
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 2
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 3
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 4
						}
					}
					add = -10
				}
				
				if = {
					limit = {
						any_scope_state = {
							total_urbanization >= 5
						}
					}
					add = -10
				}
			}
			save_scope_as:deseret_capital
		}
		scope:deseret_capital = {
			if = {
				limit = {
					any_scope_state = {
						owner = {
							OR = {
								is_country_type = colonial
								is_country_type = recognized
							}
						}
					}
				}
				random_scope_state = {
					save_scope_as:deseret_state
				}
			}
			ifelse = {
				limit = {
					any_scope_state = {
						owner = {
							OR = {
								is_country_type = unrecognized
							}
						}
					}
				}
				random_scope_state = {
					save_scope_as:deseret_state
				}
			}
			ifelse = {
				random_scope_state = {
					save_scope_as:deseret_state
				}
			}
		}
		create_country = {
			tag = DES
			origin = c:USA
			state = { deseret_state }
			on_created = {
				#WIP, provide appropriate modifications to IGs and add/move characters here
			}
		}
	}
	
	option = {
		name = lds_migration.6.a
	}
	
	option = {
		name = lds_migration.6.b
		play_as = c:DES
	}
}

lds_premigration_r.1 = { #mormon farms attacked
	type = country_event
	placement = scope:lds_farms_scope
	title = lds_premigration_r.1.t
	desc = lds_premigration_r.1.d
	flavor = lds_premigration_r.1.f
	
	trigger = {
		NOT = { 
			has_variable = lds_cooldown
			has_variable = lds_farm_cooldown
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				any_scope_pop = {
					religion = rel:lds
					pop_employment_building_group = bg_agriculture
				}
				save_scope_as = lds_farms_scope
			}
		}
		set_variable = {
			name = lds_cooldown
			months = 5
		}
		set_variable = {
			name = lds_farm_cooldown
			months = short_modifier_time
		}
	}
	
	option = { #unsympathetic
		name = lds_premigration_r.1.a
		change_variable = {
			name = lds_agitation
			add = 1
		}
		scope:lds_farms_scope = {
			add_radicals = {
				value = very_large_radicals
				religion = lds
			}
		}
	}
	
	option = { #sympathetic
		name = lds_premigration_r.1.b
		change_variable = {
			name = lds_agitation
			add = -1
		}
		scope:lds_farms_scope = {
			add_radicals = {
				value = small_radicals
			}
		}
	}
}

lds_premigration_r.2 = { #forced vigilante disavowals
	type = country_event
	placement = scope:lds_vigilante_scope
	title = lds_premigration_r.2.t
	desc = lds_premigration_r.2.d
	flavor = lds_premigration_r.2.f
	
	trigger = {
		NOT = { 
			has_variable = lds_cooldown
			has_variable = lds_vigilante_cooldown
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				any_scope_state = {
					is_homeland = cu:mormon
					radical_fraction = {
						value > .2
						religion = lds
					}
				}
				save_scope_as = lds_vigilante_scope
			}
		}
		set_variable = {
			name = lds_cooldown
			months = 5
		}
		set_variable = {
			name = lds_vigilante_cooldown
			months = short_modifier_time
		}
	}
	
	option = { #unsympathetic
		name = lds_premigration_r.2.a
		change_variable = {
			name = lds_agitation
			add = 2
		}
		scope:lds_farms_scope = {
			add_radicals = {
				value = .01
			}
		}
	}
	
	option = { #sympathetic
		name = lds_premigration_r.2.b
		change_variable = {
			name = lds_agitation
			add = -1
		}
		scope:lds_farms_scope = {
			add_radicals = {
				value = small_radicals
			}
		}
	}
}

lds_premigration_r.3 = { #church land dispute/salt sermon
	type = country_event
	placement = scope:lds_schism_scope
	title = lds_premigration_r.3.t
	desc = lds_premigration_r.3.d
	flavor = lds_premigration_r.3.f
	
	trigger = {
		NOT = {
			has_variable = danites_formed 
			has_variable = lds_cooldown	
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				any_scope_state = {
					is_homeland = cu:mormon
					radical_fraction = {
						value > .2
						religion = lds
					}
				}
				save_scope_as = lds_schism_scope
			}
		}
		set_variable = {
			name = danites_formed
		}
		set_variable = {
			name = lds_cooldown
			months = 5
		}
	}
	
	option = { #only option, will not be well recieved
		name = lds_premigration_r.3.a
		change_variable = {
			name = lds_agitation
			add = 2
		}
		scope:lds_schism_scope = {
			add_radicals = {
				value = small_radicals
			}
		}
	}
}

lds_premigration_r.4 = { #nonmormons threatened by expansion
	type = country_event
	placement = scope:lds_expansion_scope
	title = lds_premigration_r.4.t
	desc = lds_premigration_r.4.d
	flavor = lds_premigration_r.4.f
	
	trigger = {
		NOT = { 
			has_variable = lds_cooldown
			has_variable = lds_expansion_cooldown
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				any_scope_state = {
					is_homeland = cu:mormon
				}
				save_scope_as = lds_expansion_scope
			}
		}
		set_variable = {
			name = lds_cooldown
			months = 5
		}
		set_variable = {
			name = lds_expansion_cooldown
			months = short_modifier_time
		}
	}
	
	option = { #restriction on settlement
		name = lds_premigration_r.4.a
		change_variable = {
			name = lds_agitation
			add = 1
		}
		scope:lds_expansion_scope = {
			add_radicals = {
				value = small_radicals
				religion = lds
			}
			add_radicals = {
				value = -.1
				religion = protestant
			}
			add_radicals = {
				value = -.1
				religion = catholic
			}
		}
	}
	option = { #taking advantage of new block
		name = lds_premigration_r.4.b
		add_modifier = {
			name = influential_state
			months = normal_modifier_time
		}
	}
}

lds_premigration_r.5 = { #rumors of theocracy
	type = country_event
	placement = scope:lds_theocracy_scope
	title = lds_premigration_r.5.t
	desc = lds_premigration_r.5.d
	flavor = lds_premigration_r.5.f
	
	trigger = {
		NOT = { 
			has_variable = lds_cooldown
			has_variable = lds_theocracy_cooldown
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				any_scope_pop = {
					religion = rel:lds
				}
				save_scope_as = lds_theocracy_scope
			}
		}
		set_variable = {
			name = lds_cooldown
			months = 5
		}
		set_variable = {
			name = lds_theocracy_cooldown
			months = normal_modifier_time
		}
	}
	
	option = { 
		name = lds_premigration_r.5.a
		change_variable = {
			name = lds_agitation
			add = 1
		}
	}
}

lds_premigration_r.6 = { #rumors of infidelity
	type = country_event
	placement = scope:lds_polygamy_scope
	title = lds_premigration_r.6.t
	desc = lds_premigration_r.6.d
	flavor = lds_premigration_r.6.f
	
	trigger = {
		NOT = { 
			has_variable = lds_cooldown
			has_variable = lds_infidelity_cooldown
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				any_scope_pop = {
					religion = rel:lds
				}
				save_scope_as = lds_polygamy_scope
			}
		}
		set_variable = {
			name = lds_cooldown
			months = 5
		}
		set_variable = {
			name = lds_infidelity_cooldown
			months = normal_modifier_time
		}
	}
	
	option = { 
		name = lds_premigration_r.6.a
		change_variable = {
			name = lds_agitation
			add = 1
		}
	}
}

lds_premigration_r.7 = { #local election violence
	type = country_event
	placement = scope:lds_local_election_scope
	title = lds_premigration_r.7.t
	desc = lds_premigration_r.7.d
	flavor = lds_premigration_r.7.f
	
	trigger = {
		NOT = {
			has_variable = lds_cooldown
			has_variable = lds_election_cooldown
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				any_scope_state = {
					is_homeland = cu:mormon
					radical_fraction = {
						value > .1
					}
				}
				save_scope_as = lds_local_election_scope
			}
		}
		set_variable = {
			name = lds_cooldown
			months = 5
		}
		set_variable = {
			name = lds_election_cooldown
			months = short_modifier_time
		}
	}
	
	option = { #endorsement of vote suppression
		name = lds_premigration_r.7.a
		change_variable = {
			name = lds_agitation
			add = 3
		}
		scope:lds_local_election_scope = {
			add_radicals = {
				value = small_radicals
			}
			add_radicals = {
				value = very_large_radicals
				religion = lds
			}
			add_loyalists = {
				value = .03
			}
		}
	}
	
	option = { #leaving well enough alone
		name = lds_premigration_r.7.b
		change_variable = {
			name = lds_agitation
			add = 1
		}
	}
}

lds_premigration.1 = { #kirtland safety society
	type = country_event
	placement = scope:kirtland_scope
	title = lds_premigration.1.t
	desc = lds_premigration.1.d
	flavor = lds_premigration.1.f
	
	trigger = {
		has_variable = lds_kirtland
		year > 1837
	}
	
	immediate = {
		s:STATE_OHIO = {
			random_scope_state = {
				save_scope_as = kirtland_scope
				every_scope_pop	= {
					limit = {
						religion = lds
						culture = mormon
					}
					change_pop_culture = { target = cu:yankee value = .1 }
				}
			}
		}
		s:STATE_MISSOURI = {
			random_scope_state = {
				set_variable = far_west
			}
		set_variable = lds_far_west
		remove_variable = lds_kirtland
		set_variable = {
			name = lds_major_cooldown
			months = 5
		}
	}
	
	option = {
		name = lds_premigration.1.a
		change_variable = {
			name = lds_agitation
			add = 1
		}
		scope:kirtland_scope = {
			every_scope_pop = {
				limit = {
					religion = lds
					culture = mormon
				}
				move_pop = s:STATE_MISSOURI.region_state:USA
			}
			remove_homeland = mormon
		}
	}
}

lds.contingency.1 = { #if ohio stops being america first
	type = country_event
	placement = scope:kirtland_scope
	title = lds_premigration.1.t
	desc = lds_premigration.1.d
	flavor = lds_premigration.1.f
	
	trigger = {
		has_variable = lds_kirtland
		NOT = {
			C:USA = {
				has_state_in_state_region = s:STATE_OHIO
			}
		}
	}
	immediate = {
		s:STATE_OHIO.region_state:USA = {
			save_scope_as = kirtland_scope
		}
		set_variable = lds_far_west
		remove_variable = lds_kirtland
	}
	option = {
		name = lds.contingency.1.a
	}
}

lds_premigration.2 = { #missouri mormon war
	type = country_event
	placement = scope:far_west_scope
	title = lds_premigration.2.t
	desc = lds_premigration.2.d
	flavor = lds_premigration.2.f
	
	trigger = {
		has_variable = lds_far_west
		NOT = { has_variable = lds_major_cooldown }
		OR = {
			S:STATE_MISSOURI.region_state:USA = {
				turmoil > .25
			}
			lds_agitation > 6
		}
		c:USA = {
			has_state_in_state_region = {
				OR = {
					STATE_KANSAS
					STATE_NEBRASKA
					STATE_IOWA
					STATE_ILLINOIS
				}
			}
		}
	}
	
	immediate = {
		s:STATE_MISSOURI = {
			save_scope_as = far_west_scope
			remove_variable = far_west
		}
		random_scope_state = {
			limit = {
				OR = { 
					s:STATE_KANSAS.region_state:USA
					s:STATE_NEBRASKA.region_state:USA
					s:STATE_IOWA.region_state:USA
					s:STATE_ILLINOIS.region_state:USA
				}
			}
			weight = {
				value = 0
				
				if = {
					limit = {
						is_incorporated = yes
					}
					add = 1000
				}
				
				if = {
					limit = {
						is_slave_state = yes
					}
					add = -1000
				}
				
			}
			save_scope_as = nauvoo_scope
		}
		set_variable = lds_nauvoo
		remove_variable = lds_far_west
	}
	
	option = {
		name = lds_premigration.2.a
		
		scope:far_west_scope = {
			every_scope_pop = {
				limit = {
					religion = lds
					culture = mormon
				}
				move_pop = scope:nauvoo_scope
			}
		}
		scope:nauvoo_scope = {
			add_modifier = {
				name = recent_refugees
				months = 13
			}
			add_homeland = mormon
			add_variable = nauvoo_site
		}
	}
}

lds_contingency.2 = { #missouri mormon war, if other countries are specifically trying to ruin my nice event above
	type = country_event
	placement = scope:far_west_scope
	title = lds_premigration.2.t
	desc = lds_premigration.2.d
	flavor = lds_premigration.2.f
	
	trigger = {
		has_variable = lds_far_west
		NOT = { has_variable = lds_major_cooldown }
		OR = {
			S:STATE_MISSOURI.region_state:USA = {
				turmoil > .25
			}
			lds_agitation > 3
		}
		c:USA = {
			NOT = {
				has_state_in_state_region = {
					OR = {
						STATE_KANSAS
						STATE_NEBRASKA
						STATE_IOWA
						STATE_ILLINOIS
					}
				}
			}
		}
	}
	
	immediate = {
		s:STATE_MISSOURI.region_state:USA = {
			save_scope_as = far_west_scope
			remove_variable = far_west
			any_neighboring_state = {
				owner = {
					NOT = {
						c:USA
					}
				}
				save_scope_as = nauvoo_scope
			}
		}
		set_variable = lds_nauvoo
		remove_variable = lds_far_west
	}
	
	option = {
		name = lds_contingency.2.a
		
		scope:far_west_scope = {
			every_scope_pop = {
				limit = {
					religion = lds
					culture = mormon
				}
				move_pop = scope:nauvoo_scope
			}
		}
		scope:nauvoo_scope = {
			add_modifier = {
				name = recent_refugees
				months = 13
			}
			add_homeland = mormon
			add_variable = nauvoo_site
		}
	}
}

lds_premigration.3 = { # opposition newspaper destroyed
	type = country_event
	placement = scope:lds_newspaper_scope
	title = lds_premigration.3.t
	desc = lds_premigration.3.d
	flavor = lds_premigration.3.f
	
	trigger = {
		has_variable = lds_nauvoo
		lds_agitation > 13
		NOT = { has_variable = lds_major_cooldown }
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				has_variable = nauvoo_site
			}
			save_scope_as = nauvoo_scope
		}
	}
	
	option = {
		name = lds_premigration.3.a
		
		scope:nauvoo_scope = {
			add_radicals = {
				value = small_radicals
			}
		}
		hidden_effect = { 
			trigger_event = { 
				id = lds_premigration.4 days = 15
			}
		}
	}
	option = {
		name = lds_premigration.3.b
		trigger = {
			c:USA = {
				OR = {
					has_law = lawtype:law_outlawed_dissent
					has_law = lawtype:law_censorship
				}
			}
		}
		
		change_variable = {
			name = lds_agitation
			add = 2
		}
		
		scope:nauvoo_scope = {
			add_radicals = {
				value = small_radicals
				NOT = { religion = lds }
			}
			add_radicals = {
				value = very_large_radicals
				religion = lds
			}
			add_loyalists = {
				value = .03
				NOT = { religion = lds }
			}
		}
	}
}

lds_premigration.4 = { # smiths arrested
	type = country_event
	placement = scope:nauvoo_scope
	title = lds_premigration.4.t
	desc = lds_premigration.4.d
	flavor = lds_premigration.4.f
	
	immediate = {
		random_scope_state = {
			limit = {
				has_variable = nauvoo_site
			}
			save_scope_as = nauvoo_scope
		}
	}
	
	option = {
		name = lds_premigration.4.a
		
		scope:nauvoo_scope = {
			add_radicals = {
				value = large_radicals
				religion = lds
			}
		}
		change_variable = {
			name = lds_agitation
			add = 2
		}
}

lds_premigration.5 = { # election campaign
	type = country_event
	placement = scope:lds_nauvoo
	title = lds_premigration.5.t
	desc = lds_premigration.5.d
	flavor = lds_premigration.5.f
	
	trigger = {
		ROOT = { in_election_campaign = yes }
		has_variable = lds_nauvoo
		NOT = { has_variable = smith_campaign }
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				has_variable = nauvoo_site
			}
			save_scope_as = nauvoo_scope
		}
		set_variable = smith_campaign
	}
	
	option = {
		name = lds_premigration.5.a
		
		if = {
			limit = {
				ig:ig_devout2 = { has_party = no } 
			}
			create_character = {
				first_name = Joseph
				last_name = Smith
				culture = mormon
				religion = lds
				ig_leader = yes
				interest_group = ig_devout2
				birth_date = 1805.12.23
				dna = ecchi_dna_joseph_smith
				ideology = ideology_abolitionist
				traits = {
					imperious
					arrogant
					basic_political_operator
				}
				on_created = {
					set_variable = {
						name = is_joseph_smith
					}				
				}
			}
		}
		ifelse = {
			limit = {
				ig:ig_armed_forces = { has_party = no }
				ROOT = { has_law:law_national_militia }
			}
			create_character = {
				first_name = Joseph
				last_name = Smith
				culture = mormon
				religion = lds
				ig_leader = yes
				interest_group = ig_armed_forces
				birth_date = 1805.12.23
				dna = ecchi_dna_joseph_smith
				ideology = ideology_abolitionist
				traits = {
					imperious
					arrogant
					basic_political_operator
				}
				on_created = {
					set_variable = {
						name = is_joseph_smith
					}				
				}
			}
		}
		ifelse = {
			limit = {
				ig:ig_rural_folk = { has_party = no } 
			}
			create_character = {
				first_name = Joseph
				last_name = Smith
				culture = mormon
				religion = lds
				ig_leader = yes
				interest_group = ig_rural_folk
				birth_date = 1805.12.23
				dna = ecchi_dna_joseph_smith
				ideology = ideology_abolitionist
				traits = {
					imperious
					arrogant
					basic_political_operator
				}
				on_created = {
					set_variable = {
						name = is_joseph_smith
					}				
				}
			}
		}
		ifelse = {
			change_variable = {
				name = lds_agitation
				add = 1
			}
		}
	}
}

lds_premigration.6 = { # governor assassination attempt
	type = country_event
	placement = scope:boggs_scope
	title = lds_premigration.6.t
	desc = lds_premigration.6.d
	flavor = lds_premigration.6.f
	
	trigger = {
		has_variable = lds_nauvoo
		NOT = { has_variable = boggs_assassination }
		NOT = { has_variable = lds_major_cooldown }
		c:USA = {
			has_state_in_state_region = STATE_MISSOURI
		}
	}
	
	immediate = {
		s:STATE_MISSOURI.region_state:USA = {
			save_scope_as = boggs_scope
		}
		set_variable = boggs_assassination
		change_variable = {
			name = lds_agitation
			add = 1
		}
	}
	
	option = { #A prominent lawyer
		name = lds_premigration.6.a
		hidden_effect = { 
			random_list = {
				10 = { 
					trigger_event = { 
						id = lds_premigration.7 days = 360
					}
				}
				90 = {
					trigger_event = { 
						id = lds_premigration.8 days = 360
					}
				}
			}
		}
	}
	
	option = { #clearly guilty
		name = lds_premigration.6.a
		hidden_effect = { 
			random_list = {
				90 = { 
					trigger_event = { 
						id = lds_premigration.7 days = 360
					}
				}
				10 = {
					trigger_event = { 
						id = lds_premigration.8 days = 360
					}
				}
			}
		}
	}
	
	option = { #leave it to the court
		name = lds_premigration.6.a
		hidden_effect = { 
			random_list = {
				50 = { 
					trigger_event = { 
						id = lds_premigration.7 days = 360
					}
				}
				50 = {
					trigger_event = { 
						id = lds_premigration.8 days = 360
					}
				}
			}
		}
	}
}

lds_premigration.7 = { # rockwell trial convicts
	type = country_event
	placement = scope:boggs_scope
	title = lds_premigration.7.t
	desc = lds_premigration.7.d
	flavor = lds_premigration.7.f
	
	immediate = {
		set_global_variable = rockwell_imprisoned
		s:STATE_MISSOURI.region_state:USA = {
			save_scope_as = boggs_scope
		}
	}
	
	option = {
		name = lds_premigration.7.a
		change_variable = {
			name = lds_agitation
			add = 6
		}
	}
}

lds_premigration.8 = { # rockwell released
	type = country_event
	placement = scope:boggs_scope
	title = lds_premigration.8.t
	desc = lds_premigration.8.d
	flavor = lds_premigration.8.f
	
	immediate = {
		s:STATE_MISSOURI.region_state:USA = {
			save_scope_as = boggs_scope
		}
	}
	
	option = {
		name = lds_premigration.8.a
		change_variable = {
			name = lds_agitation
			add = 2
		}
	}
}